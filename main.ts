namespace SpriteKind {
    export const Arrow = SpriteKind.create()
}
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    currentBodyPart = (currentBodyPart + 3) % 4
    setCurrentBodyPartArrows(currentBodyPart)
})
function setCurrentBodyPartArrows (bodyPart: number) {
    for (let value of sprites.allOfKind(SpriteKind.Arrow)) {
        value.image.replace(9, 6)
    }
    if (bodyPart == 0) {
        earsArrowLeft.image.replace(6, 9)
        earsArrowRight.image.replace(6, 9)
    } else if (bodyPart == 1) {
        faceArrowLeft.image.replace(6, 9)
        faceArrowRight.image.replace(6, 9)
    } else if (bodyPart == 2) {
        costumeArrowLeft.image.replace(6, 9)
        costumeArrowRight.image.replace(6, 9)
    } else {
        armsArrowLeft.image.replace(6, 9)
        armsArrowRight.image.replace(6, 9)
    }
}
function makeCostumeMenu () {
    textSprite = textsprite.create("Costume", 0, 10)
    textSprite.setPosition(120, 60)
    miniCostume = sprites.create(minifyImage(costume[0], 32, 36), SpriteKind.Player)
    miniCostume.setPosition(120, 75)
    costumeArrowLeft = sprites.create(img`
        . . . 6 8 . . . . . . . . 
        . . 6 6 8 . . . . . . . . 
        . 6 6 6 6 6 6 6 6 6 6 8 . 
        6 6 6 6 6 6 6 6 6 6 6 6 8 
        . 6 6 6 8 8 8 8 8 8 8 8 . 
        . . 6 6 8 . . . . . . . . 
        . . . 6 8 . . . . . . . . 
        `, SpriteKind.Arrow)
    costumeArrowLeft.setPosition(95, 75)
    costumeArrowRight = sprites.create(img`
        . . . . . . . . 8 6 . . . 
        . . . . . . . . 8 6 6 . . 
        . 8 6 6 6 6 6 6 6 6 6 6 . 
        8 6 6 6 6 6 6 6 6 6 6 6 6 
        . 8 8 8 8 8 8 8 8 6 6 6 . 
        . . . . . . . . 8 6 6 . . 
        . . . . . . . . 8 6 . . . 
        `, SpriteKind.Arrow)
    costumeArrowRight.setPosition(145, 75)
}
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    if (currentBodyPart == 0) {
    	
    } else if (currentBodyPart == 1) {
    	
    } else if (currentBodyPart == 2) {
    	
    } else {
    	
    }
})
function minifyImage (input2: Image, inputX: number, inputY: number) {
    smallImage = image.create(Math.ceil(inputX / 2), Math.ceil(inputY / 2))
    for (let x = 0; x <= inputX / 2; x++) {
        for (let y = 0; y <= inputY / 2; y++) {
            newColor = 0
            numColors = 0
            if (input2.getPixel(x * 2, y * 2) != 0) {
                newColor += input2.getPixel(x * 2, y * 2)
                numColors += 1
            }
            if (input2.getPixel(x * 2 + 1, y * 2) != 0) {
                newColor += input2.getPixel(x * 2 + 1, y * 2)
                numColors += 1
            }
            if (input2.getPixel(x * 2, y * 2 + 1) != 0) {
                newColor += input2.getPixel(x * 2, y * 2 + 1)
                numColors += 1
            }
            if (input2.getPixel(x * 2 + 1, y * 2 + 1) != 0) {
                newColor += input2.getPixel(x * 2 + 1, y * 2 + 1)
                numColors += 1
            }
            newColor = newColor / numColors
            smallImage.setPixel(x, y, newColor)
        }
    }
    return smallImage
}
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    currentBodyPart = (currentBodyPart + 1) % 4
    setCurrentBodyPartArrows(currentBodyPart)
})
function makeEarsMenu () {
    textSprite = textsprite.create("Ears", 0, 10)
    textSprite.setPosition(120, 10)
    miniEars = sprites.create(minifyImage(ears[0], 28, 12), SpriteKind.Player)
    miniEars.setPosition(120, 21)
    earsArrowLeft = sprites.create(img`
        . . . 6 8 . . . . . . . . 
        . . 6 6 8 . . . . . . . . 
        . 6 6 6 6 6 6 6 6 6 6 8 . 
        6 6 6 6 6 6 6 6 6 6 6 6 8 
        . 6 6 6 8 8 8 8 8 8 8 8 . 
        . . 6 6 8 . . . . . . . . 
        . . . 6 8 . . . . . . . . 
        `, SpriteKind.Arrow)
    earsArrowLeft.setPosition(95, 21)
    earsArrowRight = sprites.create(img`
        . . . . . . . . 8 6 . . . 
        . . . . . . . . 8 6 6 . . 
        . 8 6 6 6 6 6 6 6 6 6 6 . 
        8 6 6 6 6 6 6 6 6 6 6 6 6 
        . 8 8 8 8 8 8 8 8 6 6 6 . 
        . . . . . . . . 8 6 6 . . 
        . . . . . . . . 8 6 . . . 
        `, SpriteKind.Arrow)
    earsArrowRight.setPosition(145, 21)
}
function setup () {
    scene.setBackgroundColor(1)
    rabbitBear = sprites.create(img`
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ..................................dddddddddddddddd....................
        .................................dddddddddddddddddd...................
        ................................ddddddddddddddddddd...................
        ................................dddddddddddddddddddd..................
        ................................dddddddddddddddddddd..................
        ................................dddddddddddddddddddd..................
        ................................dddddddddddddddddddd..................
        ................................ddddddddddddddddddddd.................
        ................................ddddddddddddddddddddd.................
        ................................dddddddddddddddddddddd................
        ................................dddddddddddddddddddddd................
        ................................dddddddddddddddddddddd................
        .................................ddddddddddddddddddddd................
        .................................ddddddddddddddddddddd................
        .................................ddddddddddddddddddddd................
        ................................ddddddddddddddddddddd.................
        ...............................dddddddddddddddddddddd.................
        ..............................dddddddddddddddddddddd..................
        .............................dddddddddddddddddddddd...................
        ............................ddddddddddddddddddddd.....................
        ............................ddddddddddddddddddddd.....................
        ...........................dddddddddddddddddddddd.....................
        .........................dddddddddddddddddddddddd.....................
        ........................ddddddddddddddddddddddddd.....................
        .......................dddddddddddddddddddddddddd.....................
        .....................dddddddddddddddddddddddddddd.....................
        ...........dddd.....dddddddddddddddddddddddddddd......................
        ...........bbbd....ddddddddddddddddddddddddddddd......................
        ........dddbbbdd..dddddddddddddddddddddddddddddd......................
        .......dddddbbdd.dddddddddddddddddddddddddddddd.......................
        .......ddddbbbbbbdddddddddddddddddddddddddddddd.......................
        .......dddbbbbbbddddddddddddddddddddddddddddddd.......................
        .......dddbbbbbbdddddddddddddddddddddddddddddd........................
        .......dbbbbbbbbdddddddddddddddddddddddddddddd........................
        ........bbbbbbbddddddddddddddddddddddddddddddd........................
        ........bbbbbbbddddddddddddddddddddddddddddddd........................
        ........bbbbbbbddddddddddddddddddddddddddddddd........................
        ........bbbbbb.dddddddbbddddddddddddddddddddddb.......................
        ..........bb...dddddddddbbddddddddddddddddddddb.......................
        ...............ddddddddddbddddddddddddddddddddb.......................
        ...............ddddddddddbbddddddddddddddddddbb.......................
        ...............dddddddddddbddddddddddddddddddbbb......................
        ...............dddddddddddbdddddddddddddddddbbbb......................
        ...............dddddddddddbbddddddddddddddddbbbb......................
        ...............ddddddddddddbbddddddddddddddbbbbb......................
        ...............ddddddddddddbbddddddddddddddbbbbb......................
        ...............ddddddddddddbbdddddddddddddbbbbbb......................
        ...............ddddddddddddbbdddddddddddddbbbbbb......................
        ...............ddddddddddddbbddddddddddddbbbbbbb......................
        ................dddddddddddbbdddddddddddbbbbbbbb......................
        .................ddddddddddb....dddddbbbbbbbbbb.......................
        ..................dddddddddb.........bbbbbbbbbd.......................
        ..................dddddddddb..........bbbbbbddd.......................
        ..................dddddddddb...........dddddddd.......................
        ..................dddddddddb...........dddddddd.......................
        ...................dddddddbb...........dddddddd.......................
        ...................ddddddbb............dddddddd.......................
        ...................ddddddbb.............ddddddd.......................
        ...................ddddddbb.............dddddddd......................
        ....................dddddbbb............dddddddd......................
        ....................ddddddbb.............ddddddd......................
        ....................ddddddddd.............dddddd......................
        ....................ddddddddd.............ddddddd.....................
        .....................dddddddd..............ddddddddd..................
        ......................dddddddddd...........ddddddddd..................
        ......................dddddddddd...........ddddddddd..................
        ........................ddddddddd..........ddddddddd..................
        .........................dddddddd...........dddddddd..................
        ..........................dddddd...............ddddd..................
        ......................................................................
        `, SpriteKind.Player)
    rabbitBear.setPosition(41, 54)
    earsSprite = sprites.create(img`
        ...666666...................
        .666666666........6666666...
        666699999666....6666666666..
        666999999966....66669999966.
        666999999966....66669999996.
        6669999999966....66699999966
        6669999999966....66699999966
        6669999999996....66699999996
        6669999999996.....666999999.
        .6669999999.........6999999.
        .6669999....................
        ...66.......................
        `, SpriteKind.Player)
    earsSprite.setPosition(47, 27)
    costumeSprite = sprites.create(img`
        ...............222..............
        ..............22222.............
        .............2222222............
        ............22222222222.........
        ...........222222222222222222222
        ...........222222222222222222552
        ..........4422222222222222222552
        ........444422222222222222222224
        .......4444442222222222222222224
        ......44444444222222222222222224
        ....4444444444422222222222225544
        ...4444444444444222222222222554.
        ..44444444444444222222222222224.
        .444444444444444422222222222244.
        444444444444444444222222222224..
        444444444444444444222222222224..
        .44444444444444444422222225544..
        ..444444444444444442222222554...
        ...44444444444444444222222224...
        ....4444444444444444222222224...
        .....444444444444444422222224...
        ......44444444444444422225524...
        .......4444444444444442225524...
        .........44444444444444222224...
        .........44444444444444222224...
        ..........444444444444442222....
        ..........444444444444442222....
        ..........44444444444444222.....
        ...........4444444444444422.....
        ............44444444444442......
        ............44444444444444......
        ............4444444444444.......
        ............4444444444444.......
        ............444444444444........
        ............44444444444.........
        ...............44444............
        `, SpriteKind.Player)
    costumeSprite.setPosition(39, 62)
    armsSprite = sprites.create(img`
        ddddd...................................
        ddddd...................................
        dddddd..................................
        ddddddd.................................
        .ddddddd................................
        ..ddddddd...............................
        ...dddddddd.............................
        ...dddddddddd...........................
        ....dddddddddddd........................
        .....ddddddddddddd......................
        ......ddddddddddddd6666.................
        ..........ddddddddd...66................
        ...............6........6...............
        ..............6..........6..............
        ..............6..........66.............
        ..............6...........6.............
        ..............6...........6.............
        ..............6..........66.............
        ..............6666666666666.............
        ..............6688888888866.............
        ..............6668888888666.............
        ..............6666666666666.............
        ..............66c66666666c6.............
        ..............66c666c66c6c6.............
        ..............66c666c66c6c6.............
        ..............66c666c66c6c6.............
        ..............66c666c66c666.............
        ...............6c666c666c66.............
        ...............66666c666c6..............
        ........................................
        `, SpriteKind.Player)
    armsSprite.setPosition(59, 68)
    facePaintSprite = sprites.create(img`
        ....6..................
        ....6.............6....
        ..6.666...........6....
        ..66.66..........666...
        ...66666.........6f1...
        66.6ff16.........6ff...
        .666fff6.........6666..
        .666fff6...............
        ...66666...............
        .66666...........3333..
        .66...............33...
        ......6666.............
        .....666......cc..c..cc
        .....66........c..c..c.
        ...............cccfccc.
        ................cfffc..
        .......................
        .......................
        .......................
        `, SpriteKind.Player)
    facePaintSprite.setPosition(50, 42)
    makeEarsMenu()
    makeFacepaintMenu()
    makeCostumeMenu()
    makeArmsMenu()
    currentBodyPart = 0
    setCurrentBodyPartArrows(currentBodyPart)
}
function makeFacepaintMenu () {
    textSprite = textsprite.create("Face", 0, 10)
    textSprite.setPosition(120, 35)
    miniFace = sprites.create(minifyImage(face[0], 22, 18), SpriteKind.Player)
    miniFace.setPosition(120, 47)
    faceArrowLeft = sprites.create(img`
        . . . 6 8 . . . . . . . . 
        . . 6 6 8 . . . . . . . . 
        . 6 6 6 6 6 6 6 6 6 6 8 . 
        6 6 6 6 6 6 6 6 6 6 6 6 8 
        . 6 6 6 8 8 8 8 8 8 8 8 . 
        . . 6 6 8 . . . . . . . . 
        . . . 6 8 . . . . . . . . 
        `, SpriteKind.Arrow)
    faceArrowLeft.setPosition(95, 47)
    faceArrowRight = sprites.create(img`
        . . . . . . . . 8 6 . . . 
        . . . . . . . . 8 6 6 . . 
        . 8 6 6 6 6 6 6 6 6 6 6 . 
        8 6 6 6 6 6 6 6 6 6 6 6 6 
        . 8 8 8 8 8 8 8 8 6 6 6 . 
        . . . . . . . . 8 6 6 . . 
        . . . . . . . . 8 6 . . . 
        `, SpriteKind.Arrow)
    faceArrowRight.setPosition(145, 47)
}
function makeArmsMenu () {
    textSprite = textsprite.create("Arms", 0, 10)
    textSprite.setPosition(120, 90)
    miniArms = sprites.create(minifyImage(arms[0], 40, 30), SpriteKind.Player)
    miniArms.setPosition(120, 104)
    armsArrowLeft = sprites.create(img`
        . . . 6 8 . . . . . . . . 
        . . 6 6 8 . . . . . . . . 
        . 6 6 6 6 6 6 6 6 6 6 8 . 
        6 6 6 6 6 6 6 6 6 6 6 6 8 
        . 6 6 6 8 8 8 8 8 8 8 8 . 
        . . 6 6 8 . . . . . . . . 
        . . . 6 8 . . . . . . . . 
        `, SpriteKind.Arrow)
    armsArrowLeft.setPosition(95, 104)
    armsArrowRight = sprites.create(img`
        . . . . . . . . 8 6 . . . 
        . . . . . . . . 8 6 6 . . 
        . 8 6 6 6 6 6 6 6 6 6 6 . 
        8 6 6 6 6 6 6 6 6 6 6 6 6 
        . 8 8 8 8 8 8 8 8 6 6 6 . 
        . . . . . . . . 8 6 6 . . 
        . . . . . . . . 8 6 . . . 
        `, SpriteKind.Arrow)
    armsArrowRight.setPosition(145, 104)
}
let miniArms: Sprite = null
let miniFace: Sprite = null
let facePaintSprite: Sprite = null
let armsSprite: Sprite = null
let costumeSprite: Sprite = null
let earsSprite: Sprite = null
let rabbitBear: Sprite = null
let miniEars: Sprite = null
let numColors = 0
let newColor = 0
let smallImage: Image = null
let miniCostume: Sprite = null
let textSprite: TextSprite = null
let armsArrowRight: Sprite = null
let armsArrowLeft: Sprite = null
let costumeArrowRight: Sprite = null
let costumeArrowLeft: Sprite = null
let faceArrowRight: Sprite = null
let faceArrowLeft: Sprite = null
let earsArrowRight: Sprite = null
let earsArrowLeft: Sprite = null
let currentBodyPart = 0
let arms: Image[] = []
let costume: Image[] = []
let face: Image[] = []
let ears: Image[] = []
ears = [img`
    ...666666...................
    .666666666........6666666...
    666699999666....6666666666..
    666999999966....66669999966.
    666999999966....66669999996.
    6669999999966....66699999966
    6669999999966....66699999966
    6669999999996....66699999996
    6669999999996.....666999999.
    .6669999999.........6999999.
    .6669999....................
    ...66.......................
    `, img`
    ...666666...................
    .666666666........6666666...
    666633333666....6666666666..
    666333333366....66663333366.
    666333333366....66663333336.
    6663333333366....66633333366
    6663333333366....66633333366
    6663333333336....66633333336
    6663333333336.....666333333.
    .6663333333.........6333333.
    .6663333....................
    ...66.......................
    `]
face = [img`
    ....6.................
    ....6.............6...
    ..6.666...........6...
    ..66.66..........666..
    ...66666.........6f1..
    66.6ff16.........6ff..
    .666fff6.........6666.
    .666fff6..............
    ...66666..............
    .66666...........3333.
    .66...............33..
    ......6666............
    .....666......cc..c..c
    .....66........c..c..c
    ...............cccfccc
    ................cfffc.
    ......................
    ......................
    `]
costume = [img`
    ...............222..............
    ..............22222.............
    .............2222222............
    ............22222222222.........
    ...........222222222222222222222
    ...........222222222222222222552
    ..........4422222222222222222552
    ........444422222222222222222224
    .......4444442222222222222222224
    ......44444444222222222222222224
    ....4444444444422222222222225544
    ...4444444444444222222222222554.
    ..44444444444444222222222222224.
    .444444444444444422222222222244.
    444444444444444444222222222224..
    444444444444444444222222222224..
    .44444444444444444422222225544..
    ..444444444444444442222222554...
    ...44444444444444444222222224...
    ....4444444444444444222222224...
    .....444444444444444422222224...
    ......44444444444444422225524...
    .......4444444444444442225524...
    .........44444444444444222224...
    .........44444444444444222224...
    ..........444444444444442222....
    ..........444444444444442222....
    ..........44444444444444222.....
    ...........4444444444444422.....
    ............44444444444442......
    ............44444444444444......
    ............4444444444444.......
    ............4444444444444.......
    ............444444444444........
    ............44444444444.........
    ...............44444............
    `]
arms = [img`
    ddddd...................................
    ddddd...................................
    dddddd..................................
    ddddddd.................................
    .ddddddd................................
    ..ddddddd...............................
    ...dddddddd.............................
    ...dddddddddd...........................
    ....dddddddddddd........................
    .....ddddddddddddd......................
    ......ddddddddddddd6666.................
    ..........ddddddddd...66................
    ...............6........6...............
    ..............6..........6..............
    ..............6..........66.............
    ..............6...........6.............
    ..............6...........6.............
    ..............6..........66.............
    ..............6666666666666.............
    ..............6688888888866.............
    ..............6668888888666.............
    ..............6666666666666.............
    ..............66c66666666c6.............
    ..............66c666c66c6c6.............
    ..............66c666c66c6c6.............
    ..............66c666c66c6c6.............
    ..............66c666c66c666.............
    ...............6c666c666c66.............
    ...............66666c666c6..............
    ........................................
    `]
setup()
