namespace SpriteKind {
    export const Arrow = SpriteKind.create()
    export const MiniDisplay = SpriteKind.create()
    export const BigDisplay = SpriteKind.create()
    export const longSnake = SpriteKind.create()
    export const GameOver = SpriteKind.create()
    export const Mountain = SpriteKind.create()
    export const Cloud = SpriteKind.create()
}
/**
 * Create your custom character! Draw new ears, faces, costumes, and arms
 */
/**
 * oh hi there! what are you doing all the way over here? â˜€ğŸ“
 * 
 * These are the secret workings behind the game if you want to explore them --->
 */
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    currentBodyPart = (currentBodyPart + 3) % 4
    setCurrentBodyPartArrows(currentBodyPart)
})
sprites.onOverlap(SpriteKind.longSnake, SpriteKind.Player, function (sprite, otherSprite) {
    showGameOver()
})
function createMiniCharacter () {
    miniMeImage = minifyImage(img`
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ..................................dddddddddddddddd....................
        .................................dddddddddddddddddd...................
        ................................ddddddddddddddddddd...................
        ................................dddddddddddddddddddd..................
        ................................dddddddddddddddddddd..................
        ................................dddddddddddddddddddd..................
        ................................dddddddddddddddddddd..................
        ................................ddddddddddddddddddddd.................
        ................................ddddddddddddddddddddd.................
        ................................dddddddddddddddddddddd................
        ................................dddddddddddddddddddddd................
        ................................dddddddddddddddddddddd................
        .................................ddddddddddddddddddddd................
        .................................ddddddddddddddddddddd................
        .................................ddddddddddddddddddddd................
        ................................ddddddddddddddddddddd.................
        ...............................dddddddddddddddddddddd.................
        ..............................dddddddddddddddddddddd..................
        .............................dddddddddddddddddddddd...................
        ............................ddddddddddddddddddddd.....................
        ............................ddddddddddddddddddddd.....................
        ...........................dddddddddddddddddddddd.....................
        .........................dddddddddddddddddddddddd.....................
        ........................ddddddddddddddddddddddddd.....................
        .......................dddddddddddddddddddddddddd.....................
        .....................dddddddddddddddddddddddddddd.....................
        ...........dddd.....dddddddddddddddddddddddddddd......................
        ...........bbbd....ddddddddddddddddddddddddddddd......................
        ........dddbbbdd..dddddddddddddddddddddddddddddd......................
        .......dddddbbdd.dddddddddddddddddddddddddddddd.......................
        .......ddddbbbbbbdddddddddddddddddddddddddddddd.......................
        .......dddbbbbbbddddddddddddddddddddddddddddddd.......................
        .......dddbbbbbbdddddddddddddddddddddddddddddd........................
        .......dbbbbbbbbdddddddddddddddddddddddddddddd........................
        ........bbbbbbbddddddddddddddddddddddddddddddd........................
        ........bbbbbbbddddddddddddddddddddddddddddddd........................
        ........bbbbbbbddddddddddddddddddddddddddddddd........................
        ........bbbbbb.dddddddddddddddddddddddddddddddb.......................
        ..........bb...dddddddddddddddddddddddddddddddb.......................
        ...............dddddddddddddddddddddddddddddddb.......................
        ...............ddddddddddddddddddddddddddddddbb.......................
        ................dddddddddddddddddddddddddddddbbb......................
        .................dddddddddddddddddddddddddddbbbb......................
        .................dddddddddddddddddddddddddddbbbb......................
        ..................dddddddddddddddddddddddddbbbbb......................
        ...................ddddddddddddddddddddddddbbbbb......................
        .....................dddddddddddddddddddddbbbbbb......................
        ......................ddddddddddddddddddddbbbbbb......................
        ........................dddddddddddddddddbbbbbbb......................
        ............................ddddddddddddbbbbbbbb......................
        ................................dddddbbbbbbbbbb.......................
        .....................................bbbbbbbbbd.......................
        ......................................bbbbbbddd.......................
        .......................................dddddddd.......................
        .......................................dddddddd.......................
        ........................................ddddddd.......................
        ........................................ddddddd.......................
        .........................................dddddd.......................
        .........................................ddddddd......................
        ..........................................dddddd......................
        ...........................................ddddddddf..................
        ...........................................dddddddd...................
        ............................................dddddddf..................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        `, 70, 90)
    copyImage(miniMeImage, miniEars.image, imageWidthArray[0] / 2, imageHeightArray[0] / 2, 14, 1)
    copyImage(miniMeImage, miniFace.image, imageWidthArray[1] / 2, imageHeightArray[1] / 2, 16, 9)
    copyImage(miniMeImage, miniCostume.image, imageWidthArray[2] / 2, imageHeightArray[2] / 2, 9, 17)
    copyImage(miniMeImage, minifyImage(img`
        ddddddbb..........
        ddddddddbb........
        dddddddddb........
        dddddddddbb.......
        ddddddddddb.......
        ddddddddddb.......
        ddddddddddbb......
        dddddddddddbb.....
        dddddddddddbb.....
        dddddddddddbb.....
        dddddddddddbb.....
        dddddddddddbb.....
        dddddddddddbb.....
        .ddddddddddb......
        ..dddddddddb......
        ..dddddddddb......
        ..dddddddddb......
        ..dddddddddb......
        ...dddddddbb......
        ...ddddddbb.......
        ...ddddddbb.......
        ....dddddbb.......
        ....dddddbbb......
        .....dddddbb......
        ......ddddddd.....
        .......dddddd.....
        .......dddddd.....
        ........dddddd....
        .........ddddddd..
        ..........ddddddd.
        ...........ddddddf
        .............dddf.
        `, 18, 32), 9, 16, 10, 29)
    copyImage(miniMeImage, miniArms.image, imageWidthArray[3] / 2, imageHeightArray[3] / 2, 16, 20)
    miniMeImageRun = minifyImage(img`
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ..................................dddddddddddddddd....................
        .................................dddddddddddddddddd...................
        ................................ddddddddddddddddddd...................
        ................................dddddddddddddddddddd..................
        ................................dddddddddddddddddddd..................
        ................................dddddddddddddddddddd..................
        ................................dddddddddddddddddddd..................
        ................................ddddddddddddddddddddd.................
        ................................ddddddddddddddddddddd.................
        ................................dddddddddddddddddddddd................
        ................................dddddddddddddddddddddd................
        ................................dddddddddddddddddddddd................
        .................................ddddddddddddddddddddd................
        .................................ddddddddddddddddddddd................
        .................................ddddddddddddddddddddd................
        ................................ddddddddddddddddddddd.................
        ...............................dddddddddddddddddddddd.................
        ..............................dddddddddddddddddddddd..................
        .............................dddddddddddddddddddddd...................
        ............................ddddddddddddddddddddd.....................
        ............................ddddddddddddddddddddd.....................
        ...........................dddddddddddddddddddddd.....................
        .........................dddddddddddddddddddddddd.....................
        ........................ddddddddddddddddddddddddd.....................
        .......................dddddddddddddddddddddddddd.....................
        .....................dddddddddddddddddddddddddddd.....................
        ...........dddd.....dddddddddddddddddddddddddddd......................
        ...........bbbd....ddddddddddddddddddddddddddddd......................
        ........dddbbbdd..dddddddddddddddddddddddddddddd......................
        .......dddddbbdd.dddddddddddddddddddddddddddddd.......................
        .......ddddbbbbbbdddddddddddddddddddddddddddddd.......................
        .......dddbbbbbbddddddddddddddddddddddddddddddd.......................
        .......dddbbbbbbdddddddddddddddddddddddddddddd........................
        .......dbbbbbbbbdddddddddddddddddddddddddddddd........................
        ........bbbbbbbddddddddddddddddddddddddddddddd........................
        ........bbbbbbbddddddddddddddddddddddddddddddd........................
        ........bbbbbbbddddddddddddddddddddddddddddddd........................
        ........bbbbbb.dddddddddddddddddddddddddddddddb.......................
        ..........bb...dddddddddddddddddddddddddddddddb.......................
        ...............dddddddddddddddddddddddddddddddb.......................
        ...............ddddddddddddddddddddddddddddddbb.......................
        ................dddddddddddddddddddddddddddddbbb......................
        .................dddddddddddddddddddddddddddbbbb......................
        .................dddddddddddddddddddddddddddbbbb......................
        ..................dddddddddddddddddddddddddbbbbb......................
        ...................ddddddddddddddddddddddddbbbbb......................
        .....................dddddddddddddddddddddbbbbbb......................
        ......................ddddddddddddddddddddbbbbbb......................
        ........................dddddddddddddddddbbbbbbb......................
        ............................ddddddddddddbbbbbbbb......................
        ................................dddddbbbbbbbbbb.......................
        .....................................bbbbbbbbbd.......................
        ......................................bbbbbbddd.......................
        .......................................dddddddd.......................
        .......................................dddddddd.......................
        ........................................ddddddd.......................
        ........................................ddddddd.......................
        .........................................dddddd.......................
        .........................................ddddddd......................
        ..........................................dddddd......................
        ..........................................dddddd......................
        ...........................................ddddd......................
        ...........................................dddddd.....................
        ...........................................dddddd.....................
        ............................................ddddddddf.................
        ............................................dddddddd..................
        .............................................dddddddf.................
        ......................................................................
        ......................................................................
        ......................................................................
        `, 70, 90)
    copyImage(miniMeImageRun, miniEars.image, imageWidthArray[0] / 2, imageHeightArray[0] / 2, 14, 1)
    copyImage(miniMeImageRun, miniFace.image, imageWidthArray[1] / 2, imageHeightArray[1] / 2, 16, 9)
    copyImage(miniMeImageRun, miniCostume.image, imageWidthArray[2] / 2, imageHeightArray[2] / 2, 9, 17)
    copyImage(miniMeImageRun, minifyImage(img`
        ddddddbb..........
        ddddddddbb........
        dddddddddb........
        dddddddddbb.......
        ddddddddddb.......
        ddddddddddb.......
        ddddddddddbb......
        dddddddddddbb.....
        ddddddddddbbb.....
        ddddddddddbbb.....
        ddddddddddbbb.....
        .dddddddddbbb.....
        .dddddddddbbb.....
        ..dddddddbb.......
        ..ddddddbb........
        ..ddddddbb........
        ...dddddbb........
        ...dddddbbb.......
        ....dddddbb.......
        .....ddddddd......
        ......dddddd......
        ......dddddd......
        .......dddddd.....
        ........ddddddd...
        .........ddddddd..
        ..........ddddddf.
        ............dddf..
        ..................
        ..................
        ..................
        ..................
        ..................
        `, 18, 32), 9, 16, 10, 29)
    copyImage(miniMeImageRun, miniArms.image, imageWidthArray[3] / 2, imageHeightArray[3] / 2, 16, 20)
    miniMe = sprites.create(miniMeImage, SpriteKind.Player)
    miniMe.bottom = 120
    miniMe.ay = 500
    miniMe.setFlag(SpriteFlag.StayInScreen, true)
}
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (!(gameStarted)) {
        for (let value of sprites.allOfKind(SpriteKind.Arrow)) {
            value.destroy()
        }
        for (let value of sprites.allOfKind(SpriteKind.Text)) {
            value.destroy()
        }
        for (let value of sprites.allOfKind(SpriteKind.MiniDisplay)) {
            value.destroy()
        }
        for (let value of sprites.allOfKind(SpriteKind.BigDisplay)) {
            value.destroy()
        }
        createMiniCharacter()
        startGame()
    } else if (gameOver && gameStarted) {
        if (currentlySelectedOption == replayText) {
            for (let value of sprites.allOfKind(SpriteKind.Mountain)) {
                value.destroy()
            }
            for (let value of sprites.allOfKind(SpriteKind.Cloud)) {
                value.destroy()
            }
            for (let value of sprites.allOfKind(SpriteKind.GameOver)) {
                value.destroy()
            }
            for (let value of sprites.allOfKind(SpriteKind.Text)) {
                value.destroy()
            }
            localScore = Math.max(localScore, info.score())
            info.setScore(0)
            startGame()
            gameOver = false
        } else {
            localScore = Math.max(localScore, info.score())
            info.setScore(localScore)
            if (500 < info.score()) {
                game.over(true)
            } else {
                game.over(false)
            }
        }
    } else {
        if (miniMe.bottom == 120) {
            miniMe.vy = -250
        }
    }
})
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.Player, function (sprite, otherSprite) {
    showGameOver()
})
function startGame () {
    gameStarted = true
    chanceToGetMonster = 100
    monsterSpeed = 50
    scene.setBackgroundColor(9)
    animation.runImageAnimation(
    miniMe,
    [miniMeImage, miniMeImageRun],
    200,
    true
    )
    placeMountain(0)
    placeMountain(80)
}
function areColorsVeryDifferent (c1: number, c2: number, c3: number, c4: number) {
    nonZero = 0
    if (c1 != 0) {
        nonZero += 1
    }
    if (c2 != 0) {
        nonZero += 1
    }
    if (c3 != 0) {
        nonZero += 1
    }
    if (c4 != 0) {
        nonZero += 1
    }
    average = (c1 + c2 + (c3 + c4)) / nonZero
    standardDeviation = 0
    if (c1 != 0) {
        standardDeviation += (c1 - average) ** 2
    }
    if (c2 != 0) {
        standardDeviation += (c2 - average) ** 2
    }
    if (c3 != 0) {
        standardDeviation += (c3 - average) ** 2
    }
    if (c4 != 0) {
        standardDeviation += (c4 - average) ** 2
    }
    return Math.sqrt(standardDeviation / nonZero) > 2
}
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    if (gameStarted && gameOver) {
        currentlySelectedOption.setBorder(1, 0)
        if (currentlySelectedOption == replayText) {
            currentlySelectedOption = exitText
        } else {
            currentlySelectedOption = replayText
        }
        currentlySelectedOption.setBorder(1, 4)
    } else {
        currentCostumeIndex = imageIndex[currentBodyPart]
        if (currentCostumeIndex > 0) {
            if (currentBodyPart == 0) {
                animation.runMovementAnimation(
                earsArrowLeft,
                "l -5 0 l 5 0",
                100,
                false
                )
            } else if (currentBodyPart == 1) {
                animation.runMovementAnimation(
                faceArrowLeft,
                "l -5 0 l 5 0",
                100,
                false
                )
            } else if (currentBodyPart == 2) {
                animation.runMovementAnimation(
                costumeArrowLeft,
                "l -5 0 l 5 0",
                100,
                false
                )
            } else {
                animation.runMovementAnimation(
                armsArrowLeft,
                "l -5 0 l 5 0",
                100,
                false
                )
            }
            currentCostumeIndex += -1
            imageIndex[currentBodyPart] = currentCostumeIndex
            setImage(currentBodyPart)
        }
    }
})
function showGameOver () {
    for (let value of sprites.allOfKind(SpriteKind.Projectile)) {
        value.vx = 0
        animation.stopAnimation(animation.AnimationTypes.All, value)
        value.setKind(SpriteKind.GameOver)
    }
    for (let value of sprites.allOfKind(SpriteKind.longSnake)) {
        value.vx = 0
        animation.stopAnimation(animation.AnimationTypes.All, value)
        value.setKind(SpriteKind.GameOver)
    }
    gameOver = true
    animation.stopAnimation(animation.AnimationTypes.All, miniMe)
    textSprite2 = textsprite.create("Play Again?")
    textSprite2.setOutline(1, 10)
    textSprite2.setPosition(80, 29)
    replayText = textsprite.create("")
    replayText.setIcon(img`
        . . . . a . . . . . 
        . . . a 1 a . . . . 
        . . a 1 1 a a . . . 
        . a 1 1 1 1 1 a a . 
        . . a 1 1 a a 1 1 a 
        . . . a 1 a . a 1 a 
        . a . . a . . a 1 a 
        a 1 a . . . . a 1 a 
        a 1 a a . . . a 1 a 
        . a 1 1 a a a 1 a . 
        . . a a 1 1 1 a . . 
        . . . . a a a . . . 
        `)
    replayText.setPosition(56, 50)
    exitText = textsprite.create("")
    exitText.setIcon(img`
        a a . . . . . . a a 
        a 1 a . . . . a 1 a 
        . a 1 a . . a 1 a . 
        . . a 1 a a 1 a . . 
        . . . a 1 1 a . . . 
        . . . a 1 1 a . . . 
        . . a 1 a a 1 a . . 
        . a 1 a . . a 1 a . 
        a 1 a . . . . a 1 a 
        a a . . . . . . a a 
        `)
    exitText.setPosition(99, 50)
    currentlySelectedOption = replayText
    currentlySelectedOption.setBorder(2, 4)
}
function createClouds () {
    cloudImages = [img`
        ..................1111...............
        ................11111111.............
        ...............1111111111............
        ..............11111111111....11111...
        ..............111111111111.11111111..
        .............11111111111111111111111.
        ........11111111111111111111111111111
        .......111111111111111111111111111111
        1111111111111111111111111111111111111
        .111111111111111111111111111111111111
        .......111111111111111111111111111111
        .......................1111111111111.
        `, img`
        . . . 1 1 1 1 . . . 1 1 . . . . . . . . 
        . . 1 1 1 1 1 1 . 1 1 1 1 . . . . . . . 
        . 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . 
        . 1 1 1 1 1 1 1 1 1 1 1 1 1 . 1 1 . . . 
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 
        1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . 
        `, img`
        ............111111...........
        ..........111111111..........
        .........11111111111.........
        ........1111111111111........
        ........1111111111111........
        ........11111111111111.......
        ....111111111111111111111111.
        ...11111111111111111111111111
        ..111111111111111111111111111
        ..111111111111111111111111111
        11111111111111111111111111111
        .11111111111111111111.1.1111.
        1........11111111111.....11..
        11111111111111...............
        `]
    Cloud = sprites.createProjectileFromSide(cloudImages[randint(0, 2)], -5, 0)
    Cloud.setKind(SpriteKind.Cloud)
    Cloud.z = -15
    Cloud.y = randint(0, 80)
    Cloud.setFlag(SpriteFlag.Ghost, true)
}
function setCurrentBodyPartArrows (bodyPart: number) {
    for (let value of sprites.allOfKind(SpriteKind.Arrow)) {
        value.image.replace(9, 6)
    }
    if (bodyPart == 0) {
        earsArrowLeft.image.replace(6, 9)
        earsArrowRight.image.replace(6, 9)
    } else if (bodyPart == 1) {
        faceArrowLeft.image.replace(6, 9)
        faceArrowRight.image.replace(6, 9)
    } else if (bodyPart == 2) {
        costumeArrowLeft.image.replace(6, 9)
        costumeArrowRight.image.replace(6, 9)
    } else {
        armsArrowLeft.image.replace(6, 9)
        armsArrowRight.image.replace(6, 9)
    }
}
function makeCostumeMenu () {
    textSprite = textsprite.create("Costume", 0, 10)
    textSprite.setPosition(120, 60)
    miniCostume = sprites.create(minifyImage(costume[0], 32, 36), SpriteKind.MiniDisplay)
    miniCostume.setPosition(120, 75)
    costumeArrowLeft = sprites.create(img`
        . . . 6 8 . . . . . . . . 
        . . 6 6 8 . . . . . . . . 
        . 6 6 6 6 6 6 6 6 6 6 8 . 
        6 6 6 6 6 6 6 6 6 6 6 6 8 
        . 6 6 6 8 8 8 8 8 8 8 8 . 
        . . 6 6 8 . . . . . . . . 
        . . . 6 8 . . . . . . . . 
        `, SpriteKind.Arrow)
    costumeArrowLeft.setPosition(95, 75)
    costumeArrowRight = sprites.create(img`
        . . . . . . . . 8 6 . . . 
        . . . . . . . . 8 6 6 . . 
        . 8 6 6 6 6 6 6 6 6 6 6 . 
        8 6 6 6 6 6 6 6 6 6 6 6 6 
        . 8 8 8 8 8 8 8 8 6 6 6 . 
        . . . . . . . . 8 6 6 . . 
        . . . . . . . . 8 6 . . . 
        `, SpriteKind.Arrow)
    costumeArrowRight.setPosition(145, 75)
}
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    if (gameStarted && gameOver) {
        currentlySelectedOption.setBorder(1, 0)
        if (currentlySelectedOption == replayText) {
            currentlySelectedOption = exitText
        } else {
            currentlySelectedOption = replayText
        }
        currentlySelectedOption.setBorder(1, 4)
    } else {
        currentCostumeIndex = imageIndex[currentBodyPart]
        if (currentCostumeIndex < allImages[currentBodyPart].length - 1) {
            if (currentBodyPart == 0) {
                animation.runMovementAnimation(
                earsArrowRight,
                "l 5 0 l -5 0",
                100,
                false
                )
            } else if (currentBodyPart == 1) {
                animation.runMovementAnimation(
                faceArrowRight,
                "l 5 0 l -5 0",
                100,
                false
                )
            } else if (currentBodyPart == 2) {
                animation.runMovementAnimation(
                costumeArrowRight,
                "l 5 0 l -5 0",
                100,
                false
                )
            } else {
                animation.runMovementAnimation(
                armsArrowRight,
                "l 5 0 l -5 0",
                100,
                false
                )
            }
            currentCostumeIndex += 1
            imageIndex[currentBodyPart] = currentCostumeIndex
            setImage(currentBodyPart)
        }
    }
})
function placeMountain (leftPosition: number) {
    lastCreatedMountain = sprites.create(mountains[randint(0, 1)], SpriteKind.Mountain)
    lastCreatedMountain.setFlag(SpriteFlag.Ghost, true)
    lastCreatedMountain.setFlag(SpriteFlag.AutoDestroy, true)
    lastCreatedMountain.bottom = 120
    lastCreatedMountain.left = leftPosition
    lastCreatedMountain.z = -15
}
function minifyImage (input2: Image, inputX: number, inputY: number) {
    smallImage = image.create(Math.ceil(inputX / 2), Math.ceil(inputY / 2))
    for (let x = 0; x <= inputX / 2; x++) {
        for (let y = 0; y <= inputY / 2; y++) {
            if (areColorsVeryDifferent(input2.getPixel(x * 2, y * 2), input2.getPixel(x * 2 + 1, y * 2), input2.getPixel(x * 2, y * 2 + 1), input2.getPixel(x * 2 + 1, y * 2 + 1))) {
                smallImage.setPixel(x, y, input2.getPixel(x * 2, y * 2))
            } else {
                newColor = 0
                numColors = 0
                if (input2.getPixel(x * 2, y * 2) != 0) {
                    newColor += input2.getPixel(x * 2, y * 2)
                    numColors += 1
                }
                if (input2.getPixel(x * 2 + 1, y * 2) != 0) {
                    newColor += input2.getPixel(x * 2 + 1, y * 2)
                    numColors += 1
                }
                if (input2.getPixel(x * 2, y * 2 + 1) != 0) {
                    newColor += input2.getPixel(x * 2, y * 2 + 1)
                    numColors += 1
                }
                if (input2.getPixel(x * 2 + 1, y * 2 + 1) != 0) {
                    newColor += input2.getPixel(x * 2 + 1, y * 2 + 1)
                    numColors += 1
                }
                newColor = newColor / numColors
                smallImage.setPixel(x, y, newColor)
            }
        }
    }
    return smallImage
}
function copyImage (destination: Image, picToCopy: Image, width: number, height: number, x: number, y: number) {
    for (let i = 0; i <= width; i++) {
        for (let j = 0; j <= height; j++) {
            if (picToCopy.getPixel(i, j) != 0) {
                destination.setPixel(x + i, y + j, picToCopy.getPixel(i, j))
            }
        }
    }
}
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    currentBodyPart = (currentBodyPart + 1) % 4
    setCurrentBodyPartArrows(currentBodyPart)
})
function makeEarsMenu () {
    textSprite = textsprite.create("Ears", 0, 10)
    textSprite.setPosition(120, 10)
    miniEars = sprites.create(minifyImage(ears[0], 28, 12), SpriteKind.MiniDisplay)
    miniEars.setPosition(120, 21)
    earsArrowLeft = sprites.create(img`
        . . . 6 8 . . . . . . . . 
        . . 6 6 8 . . . . . . . . 
        . 6 6 6 6 6 6 6 6 6 6 8 . 
        6 6 6 6 6 6 6 6 6 6 6 6 8 
        . 6 6 6 8 8 8 8 8 8 8 8 . 
        . . 6 6 8 . . . . . . . . 
        . . . 6 8 . . . . . . . . 
        `, SpriteKind.Arrow)
    earsArrowLeft.setPosition(95, 21)
    earsArrowRight = sprites.create(img`
        . . . . . . . . 8 6 . . . 
        . . . . . . . . 8 6 6 . . 
        . 8 6 6 6 6 6 6 6 6 6 6 . 
        8 6 6 6 6 6 6 6 6 6 6 6 6 
        . 8 8 8 8 8 8 8 8 6 6 6 . 
        . . . . . . . . 8 6 6 . . 
        . . . . . . . . 8 6 . . . 
        `, SpriteKind.Arrow)
    earsArrowRight.setPosition(145, 21)
}
sprites.onDestroyed(SpriteKind.longSnake, function (sprite) {
    if (0 < sprite.right) {
        projectile2 = sprites.createProjectileFromSide(img`
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ...6666666666...
            ..667777777766..
            .66777777777766.
            6777777777777766
            771f1777771f1776
            7711177777111777
            7777777777777777
            7777777777777777
            `, 0 - monsterSpeed, 0)
        animation.runImageAnimation(
        projectile2,
        [img`
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ...6666666666...
            ..667777777766..
            .66777777777766.
            6777777777777766
            771f1777771f1776
            7711177777111777
            7777777777777777
            7777777777777777
            `,img`
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ....66666666....
            ...6666666666...
            ..66ffffffff66..
            ..6f66666666f66.
            .6f6777777776f6.
            .667777777777666
            6777777777777766
            771f1777771f1776
            7711177777111777
            7777777777777777
            7777777777777777
            `,img`
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ....6666666.....
            ...6f1f1f1f66...
            ..66fffffffff6..
            .6ff1f1f1f1fff6.
            .6ff666666661f6.
            6f16777777776f66
            6667777777777666
            6777777777777766
            771f1777771f1776
            7711177777111777
            7777777777777777
            7777777777777777
            `,img`
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ....66666666....
            ...6666666666...
            ..66ffffffff66..
            ..6f66666666f66.
            .6f6777777776f6.
            .667777777777666
            6777777777777766
            771f1777771f1776
            7711177777111777
            7777777777777777
            7777777777777777
            `],
        100,
        true
        )
        projectile2.bottom = 120
        projectile2.x = sprite.x
        projectile2.setKind(SpriteKind.longSnake)
    }
})
function setImage (bodyPart: number) {
    currentCostumeIndex = imageIndex[bodyPart]
    bodyPartSprites[bodyPart].setImage(allImages[bodyPart][currentCostumeIndex])
    miniSprites[bodyPart].setImage(minifyImage(allImages[bodyPart][currentCostumeIndex], imageWidthArray[bodyPart], imageHeightArray[bodyPart]))
}
function setup () {
    scene.setBackgroundColor(1)
    mountains = [img`
        ......................333333........................3333........................
        ...................333333333333...................3333333333....................
        ................333333333333333333..............3333333333333333................
        .............33333333333333333333333.........333333333333333333333333...........
        ..........333333333333333333333333333......333333333333333333333333333333.......
        ........3333333333333333333333333333333..33333333333333333333333333bb33333333...
        ......333333333bb3333333333333333b33333b3333333333333333333333333bbbb333333333..
        ....333333333333b33333333333333333b333bb3333333333333333333333bbbbbbbb333333333.
        ..3333333333333bbb33b3333333333b33bbbbbbbb3b33333333333333b3bbbbbbbbbb3333333333
        3333333333333333bb33b3333333333bbbbbbbbbbbbb33333333333333bbbbbbbbbbbbb3333b3333
        3333333333333b33bbbbbb33b3b3bbbbbbbbbbbbbbbbb333333333b33bbbbbbbbbbbbbbbb33b3333
        333333333333bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb3b333333bbbbbbbbbbbcbbbbbbbbbb3bb3
        333333b33bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb333bbbbbbbbbcbbbcccbbbbbbbbb3b33
        333b33bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbcbbcbbcccccbccbbbbbbbbbb33
        333bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbccccccccccccccbccbbbbbbbbbb
        33bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbcccccccccccccccccccccccbccbbbbbbcb
        cbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbccccccbccccccccccccbcccccccccccccbcbbcc
        cccbcbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbcbbcccbccccccccccccccccccbcccccccccccccbccccc
        cccccbbcbbbbbbbbbbbbbbbbbbbbbbbbbcbcccccccccccccccccccccccccccccccccccccccbbcccc
        ccccccccbcbcbbbbbbbbbbbbbbbbbbcbcccccccccccccccccccccccccccccccccccccccccccccccc
        ccccccccccccbbcbbbbcbbbbbbbbbbcccccccccccccccccccccccccccccccccccccccccccccccccc
        ccccccccccccccccbcbcbbbbbbcbcccccccccccccccccccccccccccccccccccccccccccccccccccc
        ccccbcccccccccccccccccbcbbcccccccccbcccccccccccccccccccccccccccccccccccccccccccc
        ccccccbcccccccccccccccccccccccccccbccccccccccccccccccccccccccccccccccccccccccccc
        ccccbcccbcccbccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
        ccccccccccbccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
        cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
        cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
        cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
        cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
        cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
        cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
        `, img`
        ....................3...........................................................
        ....................3...........................................................
        ...................333..........................................................
        ...................3333.........................................................
        ..................333333........................................................
        ..................33333333......................................................
        .................33333333333....................................................
        ................33333333333333..................................................
        ...............3333333333333333.......................3.........................
        ..............333333333333333333...................33333........................
        .............33333333333333333333...............333333333333....................
        ...........33333333333333333333333............3333333333333333..................
        ..........3333333333333333333333333..........3333333333333333333................
        ........3333333333333333333333333333.......3333333333333333333b333..............
        .....33333333333333333333333333333333...333333333333333333333bbb3333..........3.
        .33333333333333333333333333333333333333333333333333333333333bbbbb33333......3333
        33333333333333333333333333333333333333333333333333333333333333b33333333333333333
        333333333333333333333333333333333b333333333333333333333333333bb33333333333333333
        333333333333333333333333333333b3bbb3b3333333333333333333333bbbbb333333333b333333
        333333333333b33333333333333333bbbbbbb3333333333333333333bbbbbbbbb33333333bb33333
        333333333b33b33b33b333333b33bbbbbbbbbb333333333333bbbbbbbbbbbbbbb33333333bbb3333
        33333333bbbbbbbbbbbb3b333bbbbbbbbbbbbbb33333333bbbbbbbbbbbbbbbbbbb333333bbbb33b3
        3333b3bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb3333bbbbbbbbbbbbbbbbbbbbbbb3b3bbbbbbbbb
        c333bbbbbbbbbbbbbbbbbbbbbbbbbbbcbcbbbbbbbbb3bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbc
        cccbbbbbbbbbbbbbbbbbbbbbbbbbcbbccccbbbbbbbbbbbbbbbbbbbbcbbbbbbbbbbbbbbbbbbbcbbcc
        ccccbbbbbbbbbbbbbbbbbbbbbbbccccccbccbcbcbbbbbbbbbbbcbbccbbbbbbbbbbbbbbbbbbbcbccc
        ccccccbcbbbbbbbbbbbbbbbbbccccccccccccccccbbbbbbbcbbcccccccbcbbbbbbbbbbbbbcbccccc
        ccccccccbcbbbbbccbbbbbbcccccccccccccccccccccbcbcccccccccccccbbcbbbbbbbbbbccccccc
        cbccccccccbbcbccccbbcbcccccccccccccccccccccccccccccccccccccccccbbbbbcccccccccbcc
        cccccccccccccbbccbbbcccccbcbcccccccccccccccccccccccccccbccccbccccccccccccccccccc
        ccccccccccccccccccccccccccbcbcccccccccccccccccccccccbccccccccccccccccccccccccccc
        ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccbccccc
        cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
        ccccccccccccccccccccccccccccccccccccccccccccccbccccccccccccccccccccccccccccccccc
        ccccccbcbcbcccccccccccccccccccccccccccccccccccccccccccccccccccccccccccbccccccccc
        ccccccccbcbccccccccccccccccccccccccccccccccccccccccccccccbcccccccccccccccccccccc
        ccccccccccbccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
        cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
        cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
        `]
    rabbitBear = sprites.create(img`
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ......................................................................
        ..................................dddddddddddddddd....................
        .................................dddddddddddddddddd...................
        ................................ddddddddddddddddddd...................
        ................................dddddddddddddddddddd..................
        ................................dddddddddddddddddddd..................
        ................................dddddddddddddddddddd..................
        ................................dddddddddddddddddddd..................
        ................................ddddddddddddddddddddd.................
        ................................ddddddddddddddddddddd.................
        ................................dddddddddddddddddddddd................
        ................................dddddddddddddddddddddd................
        ................................dddddddddddddddddddddd................
        .................................ddddddddddddddddddddd................
        .................................ddddddddddddddddddddd................
        .................................ddddddddddddddddddddd................
        ................................ddddddddddddddddddddd.................
        ...............................dddddddddddddddddddddd.................
        ..............................dddddddddddddddddddddd..................
        .............................dddddddddddddddddddddd...................
        ............................ddddddddddddddddddddd.....................
        ............................ddddddddddddddddddddd.....................
        ...........................dddddddddddddddddddddd.....................
        .........................dddddddddddddddddddddddd.....................
        ........................ddddddddddddddddddddddddd.....................
        .......................dddddddddddddddddddddddddd.....................
        .....................dddddddddddddddddddddddddddd.....................
        ...........dddd.....dddddddddddddddddddddddddddd......................
        ...........bbbd....ddddddddddddddddddddddddddddd......................
        ........dddbbbdd..dddddddddddddddddddddddddddddd......................
        .......dddddbbdd.dddddddddddddddddddddddddddddd.......................
        .......ddddbbbbbbdddddddddddddddddddddddddddddd.......................
        .......dddbbbbbbddddddddddddddddddddddddddddddd.......................
        .......dddbbbbbbdddddddddddddddddddddddddddddd........................
        .......dbbbbbbbbdddddddddddddddddddddddddddddd........................
        ........bbbbbbbddddddddddddddddddddddddddddddd........................
        ........bbbbbbbddddddddddddddddddddddddddddddd........................
        ........bbbbbbbddddddddddddddddddddddddddddddd........................
        ........bbbbbb.dddddddbbddddddddddddddddddddddb.......................
        ..........bb...dddddddddbbddddddddddddddddddddb.......................
        ...............ddddddddddbddddddddddddddddddddb.......................
        ...............ddddddddddbbddddddddddddddddddbb.......................
        ...............dddddddddddbddddddddddddddddddbbb......................
        ...............dddddddddddbdddddddddddddddddbbbb......................
        ...............dddddddddddbbddddddddddddddddbbbb......................
        ...............ddddddddddddbbddddddddddddddbbbbb......................
        ...............ddddddddddddbbddddddddddddddbbbbb......................
        ...............ddddddddddddbbdddddddddddddbbbbbb......................
        ...............ddddddddddddbbdddddddddddddbbbbbb......................
        ...............ddddddddddddbbddddddddddddbbbbbbb......................
        ................dddddddddddbbdddddddddddbbbbbbbb......................
        .................ddddddddddb....dddddbbbbbbbbbb.......................
        ..................dddddddddb.........bbbbbbbbbd.......................
        ..................dddddddddb..........bbbbbbddd.......................
        ..................dddddddddb...........dddddddd.......................
        ..................dddddddddb...........dddddddd.......................
        ...................dddddddbb............ddddddd.......................
        ...................ddddddbb.............ddddddd.......................
        ...................ddddddbb..............dddddd.......................
        ....................dddddbb..............ddddddd......................
        ....................dddddbbb..............dddddd......................
        .....................dddddbb..............dddddd......................
        ......................ddddddd..............ddddd......................
        .......................dddddd..............dddddd.....................
        .......................dddddd..............dddddd.....................
        ........................dddddd..............ddddddddf.................
        .........................ddddddd............dddddddd..................
        ..........................ddddddd............dddddddf.................
        ...........................ddddddf....................................
        .............................dddf.....................................
        ......................................................................
        `, SpriteKind.BigDisplay)
    rabbitBear.setPosition(41, 54)
    earsSprite = sprites.create(img`
        ...666666...................
        .666666666........6666666...
        666699999666....6666666666..
        666999999966....66669999966.
        666999999966....66669999996.
        6669999999966....66699999966
        6669999999966....66699999966
        6669999999996....66699999996
        6669999999996.....666999999.
        .6669999999.........6999999.
        .6669999....................
        ...66.......................
        `, SpriteKind.BigDisplay)
    earsSprite.setPosition(47, 17)
    costumeSprite = sprites.create(img`
        ...............222..............
        ..............22222.............
        .............2222222............
        ............22222222222.........
        ...........222222222222222222222
        ...........222222222222222222552
        ..........4422222222222222222552
        ........444422222222222222222224
        .......4444442222222222222222224
        ......44444444222222222222222224
        ....4444444444422222222222225544
        ...4444444444444222222222222554.
        ..44444444444444222222222222224.
        .444444444444444422222222222244.
        444444444444444444222222222224..
        444444444444444444222222222224..
        .44444444444444444422222225544..
        ..444444444444444442222222554...
        ...44444444444444444222222224...
        ....4444444444444444222222224...
        .....444444444444444422222224...
        ......44444444444444422225524...
        .......4444444444444442225524...
        .........44444444444444222224...
        .........44444444444444222224...
        ..........444444444444442222....
        ..........444444444444442222....
        ..........44444444444444222.....
        ...........4444444444444422.....
        ............44444444444442......
        ............44444444444444......
        ............4444444444444.......
        ............4444444444444.......
        ............444444444444........
        ............44444444444.........
        ...............44444............
        `, SpriteKind.BigDisplay)
    costumeSprite.setPosition(39, 62)
    armsSprite = sprites.create(img`
        ddddd...................................
        ddddd...................................
        dddddd..................................
        ddddddd.................................
        .ddddddd................................
        ..ddddddd...............................
        ...dddddddd.............................
        ...dddddddddd...........................
        ....dddddddddddd........................
        .....ddddddddddddd......................
        ......ddddddddddddd6666.................
        ..........ddddddddd...66................
        ...............6........6...............
        ..............6..........6..............
        ..............6..........66.............
        ..............6...........6.............
        ..............6...........6.............
        ..............6..........66.............
        ..............6666666666666.............
        ..............6688888888866.............
        ..............6668888888666.............
        ..............6666666666666.............
        ..............66c66666666c6.............
        ..............66c666c66c6c6.............
        ..............66c666c66c6c6.............
        ..............66c666c66c6c6.............
        ..............66c666c66c666.............
        ...............6c666c666c66.............
        ...............66666c666c6..............
        ........................................
        `, SpriteKind.BigDisplay)
    armsSprite.setPosition(59, 60)
    facePaintSprite = sprites.create(img`
        .......................
        .......................
        .......................
        .......................
        ....6..................
        ....6.............6....
        ..6.666...........6....
        ..66.66..........666...
        ...66666.........6f1...
        66.6ff16.........6ff...
        .666fff6.........6666..
        .666fff6...............
        ...66666...............
        .66666...........3333..
        .66...............33...
        ......6666.............
        .....666......cc..c..cc
        .....66........c..c..c.
        ...............cccfccc.
        ................cfffc..
        .......................
        .......................
        `, SpriteKind.BigDisplay)
    facePaintSprite.setPosition(50, 38)
    startText = textsprite.create("START", 0, 10)
    startText.setPosition(37, 109)
    AButtonSprite = sprites.create(img`
        . . b b b b b b b . . . 
        . b a a a a a a a b . . 
        b a a a 1 1 1 a a c b . 
        b a a 1 a a a 1 a c b . 
        b a a 1 a a a 1 a c b . 
        b a a 1 1 1 1 1 a c b . 
        b a a 1 a a a 1 a c b . 
        b a a 1 a a a 1 a c b . 
        b a a a a a a a a c b . 
        . b c c c c c c c b . . 
        . . b b b b b b b . . . 
        . . . . . . . . . . . . 
        `, SpriteKind.BigDisplay)
    animation.runImageAnimation(
    AButtonSprite,
    [img`
        . . b b b b b b b . . . 
        . b a a a a a a a b . . 
        b a a a 1 1 1 a a c b . 
        b a a 1 a a a 1 a c b . 
        b a a 1 a a a 1 a c b . 
        b a a 1 1 1 1 1 a c b . 
        b a a 1 a a a 1 a c b . 
        b a a 1 a a a 1 a c b . 
        b a a a a a a a a c b . 
        . b c c c c c c c b . . 
        . . b b b b b b b . . . 
        . . . . . . . . . . . . 
        `,img`
        . . . b b b b b b b . . 
        . . b a a a a a a a b . 
        . b a a a 1 1 1 a a c b 
        . b a a 1 a a a 1 a c b 
        . b a a 1 a a a 1 a c b 
        . b a a 1 1 1 1 1 a c b 
        . b a a 1 a a a 1 a c b 
        . b a a 1 a a a 1 a c b 
        . b a a a a a a a a c b 
        . . b c c c c c c c b . 
        . . . b b b b b b b . . 
        . . . . . . . . . . . . 
        `],
    500,
    true
    )
    AButtonSprite.setPosition(13, 109)
    makeEarsMenu()
    makeFacepaintMenu()
    makeCostumeMenu()
    makeArmsMenu()
    currentBodyPart = 0
    allImages = [ears, face, costume, arms]
    imageIndex = [2, 0, 1, 1]
    bodyPartSprites = [earsSprite, facePaintSprite, costumeSprite, armsSprite]
    miniSprites = [miniEars, miniFace, miniCostume, miniArms]
    imageWidthArray = [28, 22, 32, 40]
    imageHeightArray = [20, 22, 36, 30]
    setCurrentBodyPartArrows(currentBodyPart)
    for (let i = 0; i <= 3; i++) {
        setImage(i)
    }
}
function makeFacepaintMenu () {
    textSprite = textsprite.create("Face", 0, 10)
    textSprite.setPosition(120, 35)
    miniFace = sprites.create(minifyImage(face[0], 22, 18), SpriteKind.MiniDisplay)
    miniFace.setPosition(120, 47)
    faceArrowLeft = sprites.create(img`
        . . . 6 8 . . . . . . . . 
        . . 6 6 8 . . . . . . . . 
        . 6 6 6 6 6 6 6 6 6 6 8 . 
        6 6 6 6 6 6 6 6 6 6 6 6 8 
        . 6 6 6 8 8 8 8 8 8 8 8 . 
        . . 6 6 8 . . . . . . . . 
        . . . 6 8 . . . . . . . . 
        `, SpriteKind.Arrow)
    faceArrowLeft.setPosition(95, 47)
    faceArrowRight = sprites.create(img`
        . . . . . . . . 8 6 . . . 
        . . . . . . . . 8 6 6 . . 
        . 8 6 6 6 6 6 6 6 6 6 6 . 
        8 6 6 6 6 6 6 6 6 6 6 6 6 
        . 8 8 8 8 8 8 8 8 6 6 6 . 
        . . . . . . . . 8 6 6 . . 
        . . . . . . . . 8 6 . . . 
        `, SpriteKind.Arrow)
    faceArrowRight.setPosition(145, 47)
}
function makeArmsMenu () {
    textSprite = textsprite.create("Arms", 0, 10)
    textSprite.setPosition(120, 90)
    miniArms = sprites.create(minifyImage(arms[0], 40, 30), SpriteKind.MiniDisplay)
    miniArms.setPosition(120, 104)
    armsArrowLeft = sprites.create(img`
        . . . 6 8 . . . . . . . . 
        . . 6 6 8 . . . . . . . . 
        . 6 6 6 6 6 6 6 6 6 6 8 . 
        6 6 6 6 6 6 6 6 6 6 6 6 8 
        . 6 6 6 8 8 8 8 8 8 8 8 . 
        . . 6 6 8 . . . . . . . . 
        . . . 6 8 . . . . . . . . 
        `, SpriteKind.Arrow)
    armsArrowLeft.setPosition(95, 104)
    armsArrowRight = sprites.create(img`
        . . . . . . . . 8 6 . . . 
        . . . . . . . . 8 6 6 . . 
        . 8 6 6 6 6 6 6 6 6 6 6 . 
        8 6 6 6 6 6 6 6 6 6 6 6 6 
        . 8 8 8 8 8 8 8 8 6 6 6 . 
        . . . . . . . . 8 6 6 . . 
        . . . . . . . . 8 6 . . . 
        `, SpriteKind.Arrow)
    armsArrowRight.setPosition(145, 104)
}
let projectile: Sprite = null
let AButtonSprite: Sprite = null
let startText: TextSprite = null
let facePaintSprite: Sprite = null
let armsSprite: Sprite = null
let costumeSprite: Sprite = null
let earsSprite: Sprite = null
let rabbitBear: Sprite = null
let miniSprites: Sprite[] = []
let bodyPartSprites: Sprite[] = []
let projectile2: Sprite = null
let numColors = 0
let newColor = 0
let smallImage: Image = null
let mountains: Image[] = []
let lastCreatedMountain: Sprite = null
let allImages: Image[][] = []
let textSprite: TextSprite = null
let armsArrowRight: Sprite = null
let costumeArrowRight: Sprite = null
let faceArrowRight: Sprite = null
let earsArrowRight: Sprite = null
let Cloud: Sprite = null
let cloudImages: Image[] = []
let textSprite2: TextSprite = null
let armsArrowLeft: Sprite = null
let costumeArrowLeft: Sprite = null
let faceArrowLeft: Sprite = null
let earsArrowLeft: Sprite = null
let imageIndex: number[] = []
let currentCostumeIndex = 0
let exitText: TextSprite = null
let standardDeviation = 0
let average = 0
let nonZero = 0
let monsterSpeed = 0
let chanceToGetMonster = 0
let localScore = 0
let replayText: TextSprite = null
let currentlySelectedOption: TextSprite = null
let gameOver = false
let gameStarted = false
let miniMe: Sprite = null
let miniMeImageRun: Image = null
let miniArms: Sprite = null
let miniCostume: Sprite = null
let miniFace: Sprite = null
let imageHeightArray: number[] = []
let imageWidthArray: number[] = []
let miniEars: Sprite = null
let miniMeImage: Image = null
let currentBodyPart = 0
let arms: Image[] = []
let costume: Image[] = []
let face: Image[] = []
let ears: Image[] = []
// Click on the image tiles to edit the images!
ears = [
img`
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ...666666...................
    .666666666..................
    666699999666....6666666.....
    666999999966..6666666666....
    666999999966..66669999966...
    6669999999966.66669999996...
    6669999999966..6669999996...
    .669999999996..6669999996...
    .669999999996..666999999....
    ..66999999996...66699999....
    ..66999999996.....69999.....
    `,
img`
    ............................
    ........fbbbbbbbbbbbbbb.....
    ........fbbbbbbbbbbbbbbf....
    ........ffbbbffffffffffff...
    ......dd.ffffffffffffffff...
    ....dddddffffffffffffffff...
    ....dddddffffffffff11ffffd..
    ....dddddfffffffff11ffffddd.
    ....dddddffffffff11fffffddd.
    ....dddddfffffffffffffffddd.
    ....dddddfffffffffffffffdd..
    .....ddddffffffffffffffddd..
    ......ddddfffffffffffffdd...
    ......ddddffffffffffffdd....
    .......dddffffffffffffdd....
    .......dddf222fffffffdd.....
    .......dddf222fffffffd......
    ........ddd222fffffffd.f....
    .....ff.ddd222fffffffdff....
    .....fffffffffffffffffff....
    `,
img`
    ............................
    ............................
    ............................
    ............................
    ............................
    ...fffffff........fffff.....
    ...fffffffffffffffffffff....
    .............f..............
    .............f..............
    .............f..............
    .............f..............
    .............f..............
    .............f..............
    ...........222222...........
    ........22222222222.........
    ......22222222222222........
    ......22222222222222........
    ......222222222222222.......
    .....2222222222222222222222.
    .....2222222222222222222222.
    `,
img`
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ........66666666............
    .......6666666666...........
    .......666666666666.........
    ......66666666666666........
    .....66666666666666666......
    .....666666666666666666.....
    .....666666666666666666.....
    `,
img`
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    .........dddddddddd.........
    ........dddddddddddd........
    .......dddddddddddddd.......
    .......ddddddddddddddd......
    ......ddddddddddddddddd.....
    `,
img`
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    .........dddddddddd.........
    ........dddddddddddd........
    .......dddddddddddddd.......
    .......ddddddddddddddd......
    ......ddddddddddddddddd.....
    `,
img`
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    ............................
    .........dddddddddd.........
    ........dddddddddddd........
    .......dddddddddddddd.......
    .......ddddddddddddddd......
    ......ddddddddddddddddd.....
    `
]
// There are templates here for you to use, but feel free to make on e
face = [
img`
    ......................
    ......................
    ......................
    ......................
    ....6.................
    ....6.............6...
    ..6.666...........6...
    ..66.66..........666..
    ...66666.........6f1..
    66.6ff16.........6ff..
    .666fff6.........6666.
    .666fff6..............
    ...66666..............
    .66666...........3333.
    .66...............33..
    ......6666............
    .....666......cc..c..c
    .....66........c..c..c
    ...............cccfccc
    ................cfffc.
    ......................
    ......................
    `,
img`
    ...ccccccccccccccc....
    .cccccccccccccccccc...
    .cccccccccccccccccc...
    ccccccccccccccccccc...
    ccccccccccccccccccc...
    ccccccccccccccccccc...
    cccccccccccccccccccc..
    ccccccccccccccccccccc.
    ccccccccccccccccccf1cf
    ccccff1cccccccccccffcf
    ccccfffccccccccccccccf
    ccccfffcccccccccccccfc
    cccccccccccccccccccfcc
    ccccccccccccccccc3ffcc
    ffffffffffffffffffcccc
    cccccccccccccccccccfcc
    ccfccfccfccfccfccfcfcc
    ccfccfccfccfccfccfcfc.
    ccfccfccfccfccfccfccc.
    .ccccfccfccfccfccccc..
    ..cccfccfccfccccccc...
    ....ccccccccccc.......
    `,
img`
    ......................
    ......................
    .......ffffff.........
    .....ffffffffff.......
    ....fffffffffffff.....
    ...fffffffffffffff....
    ..ffffffffffffffffff..
    ..fffffffffffffffffff.
    ..ffffffffffffffff11f.
    .fff111fffffffffff11f.
    .fff111ffffffffffffff.
    .fff111ffffffffffffff.
    .ffffffffffffffffffff.
    .ffffffffffffffffffff.
    ..fffffffffffffffffff.
    ..fffffffffffffffffff.
    ...ffffffffffffffffff.
    ....fffffffffffffffff.
    .....ffffffffffffffff.
    .......ffffffffffffff.
    ...............ffffff.
    ...................ff.
    `,
img`
    ......................
    ......................
    ......................
    ......................
    ......................
    ..cc...............c..
    ...cc..............c..
    ....cc............cc..
    ......c...........f1..
    ....ff1...........ff..
    ....fff...............
    ....fff...............
    ......................
    ................3333..
    .................33...
    .................fff.f
    .............f..ffffff
    .............ffffffff.
    ..............ffff....
    ......................
    ......................
    ......................
    `,
img`
    66666666666766........
    666666666777666.......
    66666666776666666.....
    666666766766666666....
    66666666666776666ff...
    66666666667766666ff...
    66666666677666666666..
    666666666666776666666.
    6666ff666677766666666.
    6666ff6666766667766666
    6666ff6666666777666666
    6666666666667766666666
    6666666666666666666666
    666666666666666666666f
    666666666666666666ff6f
    6666666666666666666f66
    6666666666666666666666
    6666666666666666666666
    6666666116111611161166
    ..66666116616661661666
    ...666616661666166166.
    .....6666666666666666.
    `,
img`
    ......................
    ......................
    ......................
    ......................
    ......................
    ......................
    ......................
    ......................
    ..................f1..
    ....ff1...........ff..
    ....fff...............
    ....fff...............
    ......................
    .................3333.
    ..................33..
    ...................f..
    ...................f..
    ..................f.f.
    ......................
    ......................
    ......................
    ......................
    `,
img`
    ......................
    ......................
    ......................
    ......................
    ......................
    ......................
    ......................
    ......................
    ..................f1..
    ....ff1...........ff..
    ....fff...............
    ....fff...............
    ......................
    .................3333.
    ..................33..
    ...................f..
    ...................f..
    ..................f.f.
    ......................
    ......................
    ......................
    ......................
    `,
img`
    ......................
    ......................
    ......................
    ......................
    ......................
    ......................
    ......................
    ......................
    ..................f1..
    ....ff1...........ff..
    ....fff...............
    ....fff...............
    ......................
    .................3333.
    ..................33..
    ...................f..
    ...................f..
    ..................f.f.
    ......................
    ......................
    ......................
    ......................
    `
]
// Create costumes / skins
costume = [
img`
    ...............222..............
    ..............22222.............
    .............2222222............
    ............22222222222.........
    ...........222222222222222222222
    ...........222222222222222222552
    ..........4422222222222222222552
    ........444422222222222222222224
    .......4444442222222222222222224
    ......44444444222222222222222224
    ....4444444444422222222222225544
    ...4444444444444222222222222554.
    ..44444444444444222222222222224.
    .444444444444444422222222222244.
    444444444444444444222222222224..
    444444444444444444222222222224..
    .44444444444444444422222225544..
    ..444444444444444442222222554...
    ...44444444444444444222222224...
    ....4444444444444444222222224...
    .....444444444444444422222224...
    ......44444444444444422225524...
    .......4444444444444442225524...
    .........44444444444444222224...
    .........44444444444444222224...
    ..........444444444444442222....
    ..........444444444444442222....
    ..........44444444444444222.....
    ...........4444444444444422.....
    ............44444444444442......
    ............44444444444444......
    ............4444444444444.......
    ............4444444444444.......
    ............444444444444........
    ............44444444444.........
    ...............44444............
    `,
img`
    ...............cccccc...........
    ..............cccccccccc........
    .............ccc88888ccc........
    ............cc888888888ccccccccc
    ...........ccc8888888888cccccccc
    ...........c8888888888888ccccccc
    ..........c88888888888888ccccccc
    ........ccc8888888888888cccccccc
    .......cccc8888888888888cccccccc
    ......cccc88888888888888cccccccc
    ....cccccc8888888888888ccccccccc
    ...cccccccc88888888888ccccccccc.
    ..ccccccccccccccccccccccccccccc.
    .cccccccccccccccccccccccccccccc.
    cccccccccccccccccccccccccccccc..
    cccccccccccccccccccccccccccccc..
    .ccccccccccccccccccccccccccccc..
    ..ccccccccccccccccccccccccccc...
    ...cccccccccccccccccccccccccc...
    ....ccccccccccccccccccccccccc...
    .....cccccccccccccccccccccccc...
    ......ccccccccccccccccccccccc...
    .......cccccccccccccccccccccc...
    .........cccccccccccccccccccc...
    .........cccccccccccccccccccc...
    ..........cccccccccccccccccc....
    ..........cccccccccccccccccc....
    ..........cccccccccccccccccc....
    ...........ccccccccccccccccc....
    ............cccccccccccccc......
    ............cccccccccccccc......
    ............ccccccccccccc.......
    ............ccccccccccccc.......
    ............cccccccccccc........
    ............ccccccccccc.........
    ...............ccccc............
    `,
img`
    ...............dddddd...........
    ..............dddddddddd........
    .............ddddddddddd........
    ............dddddddddddddddddddd
    ...........ddddddddddddddddddddd
    ...........ddddddddddddddddddddd
    ..........dddddddddddddddddddddd
    ........dddddddddddddddddddddddd
    .......ddddddddddddddddddddddddd
    ......dddddddddddddddddddddddddd
    ....dddddddddddddddddddddddddddd
    ...dddddddddddddddddddddddddddd.
    ..ddddddddddddddddddddddddddddd.
    .dddddddddddddddddddddddddddddd.
    dddddddddddddddddddddddddddddd..
    dddddddddddddddddddddddddddddd..
    .ddddddddddddddddddddddddddddd..
    ..ddddddddddddddddddddddddddd...
    ...dddddddddddddddddddddddddd...
    ....ddddddddddddddddddddddddd...
    .....dddddddddddddddddddddddd...
    ......ddddddddddddddddddddddd...
    .......dddddddddddddddddddddd...
    .........dddddddddddddddddddd...
    .........dddddddddddddddddddd...
    ..........dddddddddddddddddd....
    ..........dddddddddddddddddd....
    ..........dddddddddddddddddd....
    ...........ddddddddddddddddd....
    ............dddddddddddddd......
    ............dddddddddddddd......
    ............ddddddddddddd.......
    ............ddddddddddddd.......
    ............dddddddddddd........
    ............ddddddddddd.........
    ...............ddddd............
    `,
img`
    ...............66666666666666666
    ..............666666666666666666
    ........777776666676666666666666
    ........777776667766666666666666
    ........777666666666666666666666
    ........777666666666666666666666
    .77777..776666666666666666666666
    .7777777666677766666666666666666
    .7777776667776666666666666666666
    .7777766677666666666666666666666
    .7776666666666666666666666666666
    .776666666666666666666666666666.
    .766667766666666666666666666666.
    .666777666666666666666666666666.
    666666666666666666666666666666..
    666666666666666666666666666666..
    .66666666666666666666666666666..
    ..666666666666666666666666666...
    ...66666666666666666666666666...
    ....6666666666666666666666666...
    .....666666666666666666666666...
    ......66666666666666666666666...
    .......6666666666666666666666...
    .........66666666666666666666...
    .........66666666666666666666...
    ..........666666666666666666....
    ..........666666666666666666....
    ..........666666666666666666....
    ...........66666666666666666....
    ............66666666666666......
    ............66666666666666......
    ............6666666666666.......
    ............6666666666666.......
    ............666666666666........
    ............66666666666.........
    ...............66666............
    `,
img`
    ...............dddddd...........
    ..............dddddddddd........
    .............ddddddddddd........
    ............dddddddddddddddddddd
    ...........ddddddddddddddddddddd
    ...........ddddddddddddddddddddd
    ..........dddddddddddddddddddddd
    ........dddddddddddddddddddddddd
    .......ddddddddddddddddddddddddd
    ......dddddddddddddddddddddddddd
    ....dddddddddddddddddddddddddddd
    ...dddddddddddddddddddddddddddd.
    ..ddddddddddddddddddddddddddddd.
    .dddddddddddddddddddddddddddddd.
    dddddddddddddddddddddddddddddd..
    dddddddddddddddddddddddddddddd..
    .ddddddddddddddddddddddddddddd..
    ..ddddddddddddddddddddddddddd...
    ...dddddddddddddddddddddddddd...
    ....ddddddddddddddddddddddddd...
    .....dddddddddddddddddddddddd...
    ......ddddddddddddddddddddddd...
    .......dddddddddddddddddddddd...
    .........dddddddddddddddddddd...
    .........dddddddddddddddddddd...
    ..........dddddddddddddddddd....
    ..........dddddddddddddddddd....
    ..........dddddddddddddddddd....
    ...........ddddddddddddddddd....
    ............dddddddddddddd......
    ............dddddddddddddd......
    ............ddddddddddddd.......
    ............ddddddddddddd.......
    ............dddddddddddd........
    ............ddddddddddd.........
    ...............ddddd............
    `,
img`
    ...............dddddd...........
    ..............dddddddddd........
    .............ddddddddddd........
    ............dddddddddddddddddddd
    ...........ddddddddddddddddddddd
    ...........ddddddddddddddddddddd
    ..........dddddddddddddddddddddd
    ........dddddddddddddddddddddddd
    .......ddddddddddddddddddddddddd
    ......dddddddddddddddddddddddddd
    ....dddddddddddddddddddddddddddd
    ...dddddddddddddddddddddddddddd.
    ..ddddddddddddddddddddddddddddd.
    .dddddddddddddddddddddddddddddd.
    dddddddddddddddddddddddddddddd..
    dddddddddddddddddddddddddddddd..
    .ddddddddddddddddddddddddddddd..
    ..ddddddddddddddddddddddddddd...
    ...dddddddddddddddddddddddddd...
    ....ddddddddddddddddddddddddd...
    .....dddddddddddddddddddddddd...
    ......ddddddddddddddddddddddd...
    .......dddddddddddddddddddddd...
    .........dddddddddddddddddddd...
    .........dddddddddddddddddddd...
    ..........dddddddddddddddddd....
    ..........dddddddddddddddddd....
    ..........dddddddddddddddddd....
    ...........ddddddddddddddddd....
    ............dddddddddddddd......
    ............dddddddddddddd......
    ............ddddddddddddd.......
    ............ddddddddddddd.......
    ............dddddddddddd........
    ............ddddddddddd.........
    ...............ddddd............
    `
]
// What should the arm like? Or what should it hold?
arms = [
img`
    ........................................
    ........................................
    ...............................2222.....
    ..............................222222....
    ............................22222222....
    .........................22222222222....
    ........................222222222222....
    .......................1111122222222....
    ......................1111111122222.....
    ddddd............222211111111112222.....
    ddddd.........222222111111111111122.....
    dddddd.....22222222111111ff1111112......
    ddddddd....2222222211111f99f111111......
    .ddddddd...2222222111111f99f11111.......
    ..ddddddd.......221111111ff111111.......
    ...dddddddd.....1111111111111111........
    ...dddddddddd..11111111111111122........
    ....dddddddddddd1111111111111122........
    .....ddddddddddddd11111111111222........
    ......ddddddddddddd1111111112222........
    ..........ddddddddd1111111122222........
    .............2111111111111122222........
    ...........222211111111111..222.........
    ..........2222.1111111111...222.........
    ...........222...1111111.....22.........
    ............2...2211111......2..........
    ...............222.11...................
    ...............222......................
    ................2.......................
    ........................................
    `,
img`
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ddddd............................999....
    ddddd.........................999998....
    dddddd.......................9999889....
    ddddddd....................99998899.....
    .ddddddd.................999988999......
    ..ddddddd..............9999989999.......
    ...dddddddd......bb..999998899..........
    ...dddddddddd....bb999998899............
    ....dddddddddddd..bb998899..............
    .....dddddddddddddbbb8999...............
    ......dddddddddddddbb9..................
    ..........dddddddddbb...................
    ...............bbb.bbb..................
    ..............bbb...bb..................
    ..............bb........................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    `,
img`
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ...8....................................
    ..88....................................
    68888...................................
    66666.88................................
    66666888................................
    66886668................................
    86666666...8............................
    .86668866888............................
    ..8666666668..88........................
    ..86666666666888........................
    ...8686666666668........................
    ....8886666666666666666.................
    .....866666666666666..6.................
    ......888866666666666...................
    ..........888888866866..................
    .................868.6..................
    ..................8.....................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    `,
img`
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ddddd...................................
    ddddd...................................
    dddddd..................................
    ddddddd.................................
    .ddddddd................................
    ..ddddddd...............................
    ...dddddddd.............................
    ...dddddddddd...........................
    ....dddddddddddd........................
    .....ddddddddddddd......................
    ......ddddddddddddd.....................
    ..........ddddddddd.....................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    `,
img`
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ddddd...................................
    ddddd...................................
    dddddd..................................
    ddddddd.................................
    .ddddddd................................
    ..ddddddd...............................
    ...dddddddd.............................
    ...dddddddddd...........................
    ....dddddddddddd........................
    .....ddddddddddddd......................
    ......ddddddddddddd.....................
    ..........ddddddddd.....................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    `,
img`
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ddddd...................................
    ddddd...................................
    dddddd..................................
    ddddddd.................................
    .ddddddd................................
    ..ddddddd...............................
    ...dddddddd.............................
    ...dddddddddd...........................
    ....dddddddddddd........................
    .....ddddddddddddd......................
    ......ddddddddddddd.....................
    ..........ddddddddd.....................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    `,
img`
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ddddd...................................
    ddddd...................................
    dddddd..................................
    ddddddd.................................
    .ddddddd................................
    ..ddddddd...............................
    ...dddddddd.............................
    ...dddddddddd...........................
    ....dddddddddddd........................
    .....ddddddddddddd......................
    ......ddddddddddddd.....................
    ..........ddddddddd.....................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    ........................................
    `
]
setup()
game.onUpdateInterval(2000, function () {
    if (gameStarted && !(gameOver)) {
        monsterSpeed += 10
        createClouds()
    }
})
game.onUpdateInterval(500, function () {
    if (gameStarted && !(gameOver)) {
        for (let value of sprites.allOfKind(SpriteKind.Mountain)) {
            value.x += -1
        }
        if (lastCreatedMountain.right < scene.screenWidth()) {
            placeMountain(lastCreatedMountain.right)
        }
    }
})
game.onUpdateInterval(100, function () {
    if (gameStarted && !(gameOver)) {
        info.changeScoreBy(1)
        if (info.score() % 100 == 0) {
            music.baDing.play()
        }
    }
})
game.onUpdateInterval(200, function () {
    if (gameStarted && !(gameOver)) {
        if (Math.percentChance(chanceToGetMonster)) {
            projectile = sprites.createProjectileFromSide(img`
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ....6666666.....
                ...6666666666...
                ..667777777766..
                .66777777777766.
                6777777777777766
                771f1777771f1776
                7711177777111777
                7777777777777777
                7777777777777777
                `, 0 - monsterSpeed, 0)
            animation.runImageAnimation(
            projectile,
            [img`
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ...6666666666...
                ..667777777766..
                .66777777777766.
                6777777777777766
                771f1777771f1776
                7711177777111777
                7777777777777777
                7777777777777777
                `,img`
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ....66666666....
                ...6666666666...
                ..66ffffffff66..
                ..6f66666666f66.
                .6f6777777776f6.
                .667777777777666
                6777777777777766
                771f1777771f1776
                7711177777111777
                7777777777777777
                7777777777777777
                `,img`
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ....6666666.....
                ...6f1f1f1f66...
                ..66fffffffff6..
                .6ff1f1f1f1fff6.
                .6ff666666661f6.
                6f16777777776f66
                6667777777777666
                6777777777777766
                771f1777771f1776
                7711177777111777
                7777777777777777
                7777777777777777
                `,img`
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ................
                ....66666666....
                ...6666666666...
                ..66ffffffff66..
                ..6f66666666f66.
                .6f6777777776f6.
                .667777777777666
                6777777777777766
                771f1777771f1776
                7711177777111777
                7777777777777777
                7777777777777777
                `],
            100,
            true
            )
            projectile.bottom = 120
            chanceToGetMonster = 0
        } else {
            chanceToGetMonster += 1
        }
    }
})
game.onUpdateInterval(200, function () {
    if (gameStarted && !(gameOver)) {
        for (let value of sprites.allOfKind(SpriteKind.Projectile)) {
            if (Math.percentChance(10)) {
                animation.runImageAnimation(
                value,
                [img`
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ...6666666666...
                    ..667777777766..
                    .66777777777766.
                    6777777777777766
                    771f1777771f1776
                    7711177777111777
                    7777777777777777
                    7777777777777777
                    `,img`
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ....6666666.....
                    ...6f1f1f1f66...
                    ..66fffffffff6..
                    .6ff1f1f1f1fff6.
                    .6ff666666661f6.
                    6f16777777776f66
                    6667777777777666
                    6777777777777766
                    771f1777771f1776
                    7711177777111777
                    7777777777777777
                    7777777777777777
                    `,img`
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ........2.2.....
                    .........2......
                    .........2......
                    ........22......
                    ........22......
                    ........22......
                    ........2.......
                    ........2.......
                    ....6662266.....
                    ...6f1f221f66...
                    ..66fff22ffff6..
                    .6ff1f1f1f1fff6.
                    .6ff666666661f6.
                    6f16777777776f66
                    6667777777777666
                    6777777777777766
                    771f1777771f1776
                    7711177777111777
                    7777777777777777
                    7777777777777777
                    `,img`
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ......2.2.......
                    .......2........
                    .......2........
                    ......22........
                    ......22........
                    ......22........
                    .......22.......
                    .......22.......
                    .......22.......
                    .......22.......
                    ....6662266.....
                    ...6f1f221f66...
                    ..66fff22ffff6..
                    .6ff1f1f1f1fff6.
                    .6ff666666661f6.
                    6f16777777776f66
                    6667777777777666
                    6777777777777766
                    771f1777771f1776
                    7711177777111777
                    7777777777777777
                    7777777777777777
                    `,img`
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ........2.2.....
                    .........2......
                    .........2......
                    ........22......
                    ........22......
                    ........22......
                    .......22.......
                    .......22.......
                    .......22.......
                    .......22.......
                    ......222.......
                    ......2.........
                    ......222.......
                    .......22.......
                    .......22.......
                    .......22.......
                    .......22.......
                    ....6662266.....
                    ...6f1f221f66...
                    ..66fff22ffff6..
                    .6ff1f1f1f1fff6.
                    .6ff666666661f6.
                    6f16777777776f66
                    6667777777777666
                    6777777777777766
                    771f1777771f1776
                    7711177777111777
                    7777777777777777
                    7777777777777777
                    `,img`
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    .....2.2........
                    ......2.........
                    ......2.........
                    ......22........
                    ......22........
                    ......22........
                    .......22.......
                    .......22.......
                    .......22.......
                    .......22.......
                    .......22.......
                    ......22........
                    ......22........
                    ......22........
                    .......22.......
                    .......22.......
                    .......22.......
                    .......22.......
                    .......22.......
                    .......22.......
                    ....6662266.....
                    ...6f1f221f66...
                    ..66fff22ffff6..
                    .6ff1f1f1f1fff6.
                    .6ff666666661f6.
                    6f16777777776f66
                    6667777777777666
                    6777777777777766
                    771f1777771f1776
                    7711177777111777
                    7777777777777777
                    7777777777777777
                    `,img`
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ......2.2.......
                    .......2........
                    .......2........
                    ......22........
                    ......22........
                    ......22........
                    .......22.......
                    .......22.......
                    .......22.......
                    .......22.......
                    ....6662266.....
                    ...6f1f221f66...
                    ..66fff22ffff6..
                    .6ff1f1f1f1fff6.
                    .6ff666666661f6.
                    6f16777777776f66
                    6667777777777666
                    6777777777777766
                    771f1777771f1776
                    7711177777111777
                    7777777777777777
                    7777777777777777
                    `,img`
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ....6626266.....
                    ...6f1f221f66...
                    ..66fff2fffff6..
                    .6ff1f1f1f1fff6.
                    .6ff666666661f6.
                    6f16777777776f66
                    6667777777777666
                    6777777777777766
                    771f1777771f1776
                    7711177777111777
                    7777777777777777
                    7777777777777777
                    `,img`
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ....66666666....
                    ...6666666666...
                    ..66ffffffff66..
                    ..6f66666666f66.
                    .6f6777777776f6.
                    .667777777777666
                    6777777777777766
                    771f1777771f1776
                    7711177777111777
                    7777777777777777
                    7777777777777777
                    `],
                75,
                true
                )
                value.bottom = 120
                value.setKind(SpriteKind.longSnake)
                value.lifespan = 75 * 9
            }
        }
    }
})
game.onUpdateInterval(200, function () {
    if (gameStarted && !(gameOver)) {
        for (let value of sprites.allOfKind(SpriteKind.Projectile)) {
            if (Math.percentChance(10)) {
                animation.runImageAnimation(
                value,
                [img`
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ...6666666666...
                    ..667777777766..
                    .66777777777766.
                    6777777777777766
                    771f1777771f1776
                    7711177777111777
                    7777777777777777
                    7777777777777777
                    `,img`
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ....6666666.....
                    ...6f1f1f1f66...
                    ..66fffffffff6..
                    .6ff1f1f1f1fff6.
                    .6ff666666661f6.
                    6f16777777776f66
                    6667777777777666
                    6777777777777766
                    771f1777771f1776
                    7711177777111777
                    7777777777777777
                    7777777777777777
                    `,img`
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ........2.2.....
                    .........2......
                    .........2......
                    ........22......
                    ........22......
                    ........22......
                    ........2.......
                    ........2.......
                    ....6662266.....
                    ...6f1f221f66...
                    ..66fff22ffff6..
                    .6ff1f1f1f1fff6.
                    .6ff666666661f6.
                    6f16777777776f66
                    6667777777777666
                    6777777777777766
                    771f1777771f1776
                    7711177777111777
                    7777777777777777
                    7777777777777777
                    `,img`
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ......2.2.......
                    .......2........
                    .......2........
                    ......22........
                    ......22........
                    ......22........
                    .......22.......
                    .......22.......
                    .......22.......
                    .......22.......
                    ....6662266.....
                    ...6f1f221f66...
                    ..66fff22ffff6..
                    .6ff1f1f1f1fff6.
                    .6ff666666661f6.
                    6f16777777776f66
                    6667777777777666
                    6777777777777766
                    771f1777771f1776
                    7711177777111777
                    7777777777777777
                    7777777777777777
                    `,img`
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ........2.2.....
                    .........2......
                    .........2......
                    ........22......
                    ........22......
                    ........22......
                    .......22.......
                    .......22.......
                    .......22.......
                    .......22.......
                    ......222.......
                    ......2.........
                    ......222.......
                    .......22.......
                    .......22.......
                    .......22.......
                    .......22.......
                    ....6662266.....
                    ...6f1f221f66...
                    ..66fff22ffff6..
                    .6ff1f1f1f1fff6.
                    .6ff666666661f6.
                    6f16777777776f66
                    6667777777777666
                    6777777777777766
                    771f1777771f1776
                    7711177777111777
                    7777777777777777
                    7777777777777777
                    `,img`
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    .....2.2........
                    ......2.........
                    ......2.........
                    ......22........
                    ......22........
                    ......22........
                    .......22.......
                    .......22.......
                    .......22.......
                    .......22.......
                    .......22.......
                    ......22........
                    ......22........
                    ......22........
                    .......22.......
                    .......22.......
                    .......22.......
                    .......22.......
                    .......22.......
                    .......22.......
                    ....6662266.....
                    ...6f1f221f66...
                    ..66fff22ffff6..
                    .6ff1f1f1f1fff6.
                    .6ff666666661f6.
                    6f16777777776f66
                    6667777777777666
                    6777777777777766
                    771f1777771f1776
                    7711177777111777
                    7777777777777777
                    7777777777777777
                    `,img`
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ......2.2.......
                    .......2........
                    .......2........
                    ......22........
                    ......22........
                    ......22........
                    .......22.......
                    .......22.......
                    .......22.......
                    .......22.......
                    ....6662266.....
                    ...6f1f221f66...
                    ..66fff22ffff6..
                    .6ff1f1f1f1fff6.
                    .6ff666666661f6.
                    6f16777777776f66
                    6667777777777666
                    6777777777777766
                    771f1777771f1776
                    7711177777111777
                    7777777777777777
                    7777777777777777
                    `,img`
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ....6626266.....
                    ...6f1f221f66...
                    ..66fff2fffff6..
                    .6ff1f1f1f1fff6.
                    .6ff666666661f6.
                    6f16777777776f66
                    6667777777777666
                    6777777777777766
                    771f1777771f1776
                    7711177777111777
                    7777777777777777
                    7777777777777777
                    `,img`
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ................
                    ....66666666....
                    ...6666666666...
                    ..66ffffffff66..
                    ..6f66666666f66.
                    .6f6777777776f6.
                    .667777777777666
                    6777777777777766
                    771f1777771f1776
                    7711177777111777
                    7777777777777777
                    7777777777777777
                    `],
                75,
                true
                )
                value.bottom = 120
                value.setKind(SpriteKind.longSnake)
                value.lifespan = 75 * 9
            }
        }
    }
})
